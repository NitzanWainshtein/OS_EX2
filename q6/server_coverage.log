ðŸš€ Q6 SERVER COVERAGE SCRIPT
============================
[0;32mBuilding with coverage...[0m
gcc -Wall -Wextra -pedantic -std=c99 -D_GNU_SOURCE -D_POSIX_C_SOURCE=200112L --coverage -o persistent_warehouse persistent_warehouse.c
gcc -Wall -Wextra -pedantic -std=c99 -D_GNU_SOURCE -D_POSIX_C_SOURCE=200112L --coverage -o persistent_requester persistent_requester.c

[0;32mPhase 1: Argument Parsing & Error Handling[0m
Testing server argument errors...
Error: Save file path is required (-f option)
Usage: ./persistent_warehouse [network options] [uds options] [general options]

Network options:
  -T, --tcp-port PORT     TCP port
Usage: ./persistent_warehouse [network options] [uds options] [general options]

Network options:
  -T, --tcp-port PORT     TCP port
  -U, --udp-port PORT     UDP port
Error: Invalid TCP port: 0
Error: Invalid TCP port: 99999
Error: Invalid UDP port: 0
Error: Invalid UDP port: 99999
Error: TCP and UDP ports must be different
Error: Save file path is required (-f option)
Usage: ./persistent_warehouse [network options] [uds options] [general options]

Error: Must specify either network ports (-T/-U) or UDS paths (-s/-d)
Usage: ./persistent_warehouse [network options] [uds options] [general options]

Error: Initial carbon atoms too large (max: 1000000000000000000)
Error: Initial oxygen atoms too large (max: 1000000000000000000)
Error: Initial hydrogen atoms too large (max: 1000000000000000000)
Error: Invalid timeout: 0
Error: Invalid timeout: -5

[0;32mPhase 2: File Operations Testing[0m
Testing new file creation...
Testing existing file loading...
Testing corrupted file handling...
Testing wrong magic number...

[0;32mPhase 3: Network Mode Full Testing[0m
Starting network server...
Network server ready, testing all operations...
Testing ADD commands...
Connected to Persistent Warehouse Server (TCP). Current inventory: C=1000, O=1000, H=1000
SUCCESS: Added 500 CARBON. Total CARBON: 1500
Status: CARBON: 1500, OXYGEN: 1000, HYDROGEN: 1000
Testing invalid ADD commands...
Testing molecule deliveries...
Testing invalid molecule requests...
Testing insufficient atoms...
Testing admin commands...

[1;33mCleaning up...[0m
